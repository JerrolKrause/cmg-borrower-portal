(self.webpackChunkcmg_borrower_portal=self.webpackChunkcmg_borrower_portal||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},8659:function(t,e,n){"use strict";n.d(e,{c:function(){return i}});var s=n(7716);let i=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"footer"),s._UZ(2,"p"),s.qZA(),s.qZA())},styles:["footer[_ngcontent-%COMP%]{margin-top:1rem}"]}),t})()},3734:function(t,e,n){"use strict";n.d(e,{G:function(){return l}});var s=n(8678),i=n(7716),o=n(3256);const r=function(){return["/"]},a=["*"];let l=(()=>{class t{constructor(t){this.router=t,this.isOpen=!1,this.appName=s.N.properties.appName}ngOnInit(){this.router.events.subscribe(()=>{this.isOpen=!1})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(o.F0))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-header"]],ngContentSelectors:a,decls:6,vars:2,consts:[[1,"p-2"],[1,"d-flex","justify-content-between"],[1,"brand","pl-2","mr-3",3,"routerLink"],["src","assets/img/cmg-financial-logo.png","alt","CMG Financial"],[1,"nav"]],template:function(t,e){1&t&&(i.F$t(),i.TgZ(0,"header",0),i.TgZ(1,"nav",1),i.TgZ(2,"a",2),i._UZ(3,"img",3),i.qZA(),i.TgZ(4,"div",4),i.Hsn(5),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("routerLink",i.DdM(1,r)))},directives:[o.yS],styles:["header[_ngcontent-%COMP%]{background:#fff;margin-bottom:1rem}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{text-shadow:1px 1px 5px rgba(255,255,255,.3);color:#74c0fa}header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:inline-block;line-height:43px;font-size:1.25rem;max-width:179px}header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}"]}),t})()},3393:function(t,e,n){"use strict";n.d(e,{f:function(){return l}});var s=n(7716),i=n(3734),o=n(3844),r=n(3256),a=n(8659);let l=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-layout-main"]],decls:5,vars:0,consts:[[1,"nav-component"]],template:function(t,e){1&t&&(s.TgZ(0,"app-header"),s._UZ(1,"app-nav",0),s.qZA(),s.TgZ(2,"main"),s._UZ(3,"router-outlet"),s.qZA(),s._UZ(4,"app-footer"))},directives:[i.G,o.r,r.lC,a.c],encapsulation:2}),t})()},3844:function(t,e,n){"use strict";n.d(e,{r:function(){return S}});var s=n(3256),i=n(4395),o=n(8002),r=n(9761),a=n(7519),l=n(5435),c=n(6421),u=n(2759),p=n(4762),h=n(6682),d=n(7086),g=n(9966),f=n(7716),m=n(2707),b=n(7431);let v=(()=>{class t{constructor(t,e,n,s,i,r){this.store=t,this.query=e,this.confirmationService=n,this.sw=s,this.ntsSw=i,this.ntsVersion=r,this.updateAvailable$=(0,h.T)(this.ntsSw.updateAvailable$,this.ntsVersion.updateAvailable$),this.uiState$=this.query.select(),this.tabActive$=t=>this.query.select(t=>t.tabsActive).pipe((0,o.U)(e=>e&&e[t]?e[t]:0),(0,a.x)()),this.toggles$=t=>this.query.select(t=>t.toggles).pipe((0,o.U)(e=>e&&null!==e[t]?e[t]:null),(0,l.h)(t=>void 0!==t),(0,a.x)()),this.updateAvailable$.pipe((0,l.h)(t=>t)).subscribe(()=>this.updateAppModal())}toggles(t,e){this.store.update(n=>{const s=Object.assign({},n.toggles);return s[t]=e,Object.assign(Object.assign({},n),{toggles:s})})}updateAppModal(){this.confirmationService.confirm({message:"An update for this application is available, would you like to update?",header:"Confirmation",accept:()=>this.sw.isEnabled?this.sw.activateUpdate().then(()=>document.location.reload()):document.location.reload()})}reset(){this.store.reset()}}return t.\u0275fac=function(e){return new(e||t)(f.LFG(w),f.LFG(y),f.LFG(m.YP),f.LFG(b.yO),f.LFG(d.If),f.LFG(d.yr))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),w=class extends g.yh{constructor(){super({tabsActive:{},toggles:{}})}};w.\u0275fac=function(t){return new(t||w)},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w=(0,p.gn)([(0,g.yC)({name:"uiState",resettable:!0}),(0,p.w6)("design:paramtypes",[])],w);let y=(()=>{class t extends g.AE{constructor(t){super(t),this.store=t}}return t.\u0275fac=function(e){return new(e||t)(f.LFG(w))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var k=n(4539),A=n(8583),Z=n(5855),x=n(6597),C=n(7538),T=n(671);function M(t,e){if(1&t){const t=f.EpF();f.ynx(0),f.TgZ(1,"button",5),f.NdJ("click",function(){return f.CHM(t),f.oxw(2).updateApp()}),f.qZA(),f.BQk()}}function N(t,e){if(1&t&&(f.TgZ(0,"p-menubar",3),f.TgZ(1,"div"),f.YNc(2,M,2,0,"ng-container",4),f.ALo(3,"async"),f.qZA(),f.qZA()),2&t){const t=f.oxw();f.Q6J("model",t.navMenu),f.xp6(2),f.Q6J("ngIf",f.lcZ(3,2,t.hasUpdate$))}}function O(t,e){if(1&t){const t=f.EpF();f.TgZ(0,"div",6),f.TgZ(1,"a",7),f.NdJ("click",function(){return f.CHM(t),f.oxw().sidebarVisible=!0}),f._UZ(2,"i",8),f.qZA(),f.qZA()}}let S=(()=>{class t{constructor(t,e,n,c){this.auth=t,this.settings=e,this.ui=n,this.router=c,this.isOpen=!1,this.userName=this.settings.userName,this.hasUpdate$=this.ui.updateAvailable$,this.version$=this.settings.version$,this.navMenu=[],this.utilityMenu=[{label:"Version 1.0.0.5",icon:"fas fa-tachometer mr-1",disabled:!0},{label:"Sign Out",icon:"fas fa-cubes mr-1",command:()=>this.logOut()}],this.sidebarVisible=!1,this.isDesktop$=(0,u.R)(window,"resize").pipe((0,i.b)(100),(0,o.U)(t=>t&&t.target?t.target.innerWidth:null),(0,r.O)(window.innerWidth),(0,o.U)(t=>t>=998),(0,a.x)()),this.router.events.pipe((0,l.h)(t=>t instanceof s.m2)).subscribe(()=>this.sidebarVisible=!1)}updateApp(){this.ui.updateAppModal()}logOut(){this.auth.logOut(k.j.loggedOut)}}return t.\u0275fac=function(e){return new(e||t)(f.Y36(k.e),f.Y36(c.gb),f.Y36(v),f.Y36(s.F0))},t.\u0275cmp=f.Xpm({type:t,selectors:[["app-nav"]],decls:8,vars:7,consts:[[3,"model",4,"ngIf","ngIfElse"],["mobileTemplate",""],[3,"visible","visibleChange"],[3,"model"],[4,"ngIf"],["pButton","","type","button","icon","fas fa-exclamation-triangle","label","Update Available",3,"click"],[1,"pt-2","float-right"],[1,"p-2",3,"click"],[1,"fas","fa-bars","fa-lg","mr-2"]],template:function(t,e){if(1&t&&(f.YNc(0,N,4,4,"p-menubar",0),f.ALo(1,"async"),f.YNc(2,O,3,0,"ng-template",null,1,f.W1O),f.TgZ(4,"p-sidebar",2),f.NdJ("visibleChange",function(t){return e.sidebarVisible=t}),f._UZ(5,"p-menu",3),f._UZ(6,"hr"),f._UZ(7,"p-menu",3),f.qZA()),2&t){const t=f.MAs(3);f.Q6J("ngIf",f.lcZ(1,5,e.isDesktop$))("ngIfElse",t),f.xp6(4),f.Q6J("visible",e.sidebarVisible),f.xp6(1),f.Q6J("model",e.navMenu),f.xp6(2),f.Q6J("model",e.utilityMenu)}},directives:[A.O5,Z.Y,x.v2,C.nm,T.Hq],pipes:[A.Ov],styles:[".nav-component .p-menubar{border:0;border-radius:0}.nav-component .p-menubar-custom{padding-top:.75em}.nav-component .p-menubar-custom a{padding:.714em .857em}.nav-component .p-button.p-button-text-icon-left .p-button-text{padding:.25em 1em .25em 2em}.nav-component .p-menu{border:0;width:100%;padding-top:2rem}.nav-component .p-state-active{background-color:#eaeaea}\n"],encapsulation:2}),t})()},3827:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var s=n(7716),i=n(3734),o=n(3256),r=n(8659);let a=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-layout-single"]],decls:4,vars:0,template:function(t,e){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"main"),s._UZ(2,"router-outlet"),s.qZA(),s._UZ(3,"app-footer"))},directives:[i.G,o.lC,r.c],encapsulation:2}),t})()},4495:function(t,e,n){"use strict";n.d(e,{g:function(){return c}});var s=n(4762),i=n(945),o=n(6857),r=n(1399),a=n(7716),l=n(671);let c=class{constructor(t,e){this.dialogService=t,this.ref=e}ngOnInit(){this.logoutTimer$=(0,i.F)(1e3).pipe((0,o.t)(this)).subscribe(()=>{this.counter&&this.counter>1?this.counter--:this.logout()})}logout(){this.ref.close(!0)}ngOnDestroy(){}};c.\u0275fac=function(t){return new(t||c)(a.Y36(r.xA),a.Y36(r.E7))},c.\u0275cmp=a.Xpm({type:c,selectors:[["app-logout-modal"]],decls:8,vars:1,consts:[["id","the_time"],[1,"p-dialog-footer","p-widget-content","ng-tns-c7-3","ng-star-inserted"],["type","button","pButton","","aria-label","Close","icon","fas fa-power-off","label","Log Out",1,"float-left","pull-left",3,"click"],["type","button","pButton","","icon","fas fa-angle-double-right","iconPos","right","label","Continue Working",3,"click"]],template:function(t,e){1&t&&(a.TgZ(0,"p"),a._uU(1," Your session is about to expire in "),a.TgZ(2,"span",0),a._uU(3),a.qZA(),a._uU(4," seconds, do you want to continue working?\n"),a.qZA(),a.TgZ(5,"div",1),a.TgZ(6,"button",2),a.NdJ("click",function(){return e.logout()}),a.qZA(),a.TgZ(7,"button",3),a.NdJ("click",function(){return e.ref.close()}),a.qZA(),a.qZA()),2&t&&(a.xp6(3),a.Oqu(e.counter))},directives:[l.Hq],encapsulation:2}),c=(0,s.gn)([(0,o.c)(),(0,s.w6)("design:paramtypes",[r.xA,r.E7])],c)},9424:function(t,e,n){"use strict";n.d(e,{o:function(){return f}});var s=n(7716),i=n(8583),o=n(4236),r=n(5710),a=n(665),l=n(3258);function c(t,e){if(1&t){const t=s.EpF();s.ynx(0),s.TgZ(1,"nts-file-uploader",3),s.NdJ("filesAdded",function(e){return s.CHM(t),s.oxw().filesAdded(e)}),s.qZA(),s.BQk()}2&t&&(s.xp6(1),s.Q6J("placeholder","Click or drag and drop to <strong>upload documents</strong>"))}function u(t,e){1&t&&(s.TgZ(0,"th"),s._uU(1,"Borrower"),s.qZA())}function p(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"td"),s.TgZ(1,"p-dropdown",11),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw(3).borrower=e}),s.qZA(),s.qZA()}if(2&t){const t=s.oxw(3);s.xp6(1),s.Q6J("options",t.borrowers)("ngModel",t.borrower)}}function h(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s.TgZ(4,"p-autoComplete",10),s.NdJ("ngModelChange",function(e){const n=s.CHM(t).index;return s.oxw(2).text[n]=e})("completeMethod",function(e){return s.CHM(t),s.oxw(2).search(e)}),s.qZA(),s.qZA(),s.YNc(5,p,2,2,"td",5),s.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=s.oxw(2);s.xp6(2),s.Oqu(t.file.name),s.xp6(2),s.Q6J("minLength",2)("dropdown",!0)("ngModel",i.text[n])("suggestions",i.results),s.xp6(1),s.Q6J("ngIf",i.canSelectBorrower)}}function d(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",12),s.TgZ(1,"button",13),s.NdJ("click",function(){return s.CHM(t),s.oxw(2).files=null}),s._UZ(2,"i",14),s._uU(3," Upload"),s.qZA(),s.qZA()}}function g(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"table",4),s.TgZ(1,"thead"),s.TgZ(2,"tr"),s.TgZ(3,"th"),s._uU(4,"Name"),s.qZA(),s.TgZ(5,"th"),s._uU(6,"Document Type"),s.qZA(),s.YNc(7,u,2,0,"th",5),s.qZA(),s.qZA(),s.TgZ(8,"tbody"),s.YNc(9,h,6,6,"tr",6),s.qZA(),s.qZA(),s.TgZ(10,"div",7),s.TgZ(11,"a",8),s.NdJ("click",function(){return s.CHM(t),s.oxw().files=null}),s._uU(12,"Add more documents"),s.qZA(),s.TgZ(13,"a",8),s.NdJ("click",function(){return s.CHM(t),s.oxw().files=null}),s._uU(14,"Cancel"),s.qZA(),s.qZA(),s.YNc(15,d,4,0,"div",9)}if(2&t){const t=s.oxw();s.xp6(7),s.Q6J("ngIf",t.canSelectBorrower),s.xp6(2),s.Q6J("ngForOf",t.files),s.xp6(6),s.Q6J("ngIf",t.showSubmit)}}let f=(()=>{class t{constructor(){this.showSubmit=!0,this.canSelectBorrower=!0,this.success=!1,this.text=[],this.resultsSrc=[{label:"W-2 forms",value:"W-2 forms"},{label:"Pay stubs",value:"Pay stubs"},{label:"Income tax returns",value:"Income tax returns"},{label:"Alimony or child support documents",value:"Alimony or child support documents"},{label:"Bank Statements",value:"Bank Statements"},{label:"Drivers License",value:"Drivers License"},{label:"Retirement and investment accounts",value:"Retirement and investment accounts"},{label:"Gift Letter",value:"Gift Letter"}],this.borrower=0,this.borrowers=[{name:"John Borrower",code:0},{name:"Jane Borrower",code:1}],this.results=[...this.resultsSrc]}ngOnInit(){}search(t){this.results=this.resultsSrc.filter(e=>e.label.toLowerCase().replace(/[^a-zA-Z ]/g,"").includes(t.query.toLowerCase().replace(/[^a-zA-Z ]/g,""))),console.log(t)}filesAdded(t){console.log(t),this.files=t}submit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-upload"]],inputs:{showSubmit:"showSubmit",canSelectBorrower:"canSelectBorrower"},decls:4,vars:2,consts:[[1,"nts-upload"],[4,"ngIf","ngIfElse"],["yepFiles",""],[3,"placeholder","filesAdded"],[1,"table","table-sm","table-striped"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","small","mb-3"],[3,"click"],["class","text-right",4,"ngIf"],["field","label","placeholder","Please select a type",3,"minLength","dropdown","ngModel","suggestions","ngModelChange","completeMethod"],["optionLabel","name",3,"options","ngModel","ngModelChange"],[1,"text-right"],[1,"p-button",3,"click"],[1,"fas","fa-upload","mr-2"]],template:function(t,e){if(1&t&&(s.TgZ(0,"div",0),s.YNc(1,c,2,1,"ng-container",1),s.YNc(2,g,16,3,"ng-template",null,2,s.W1O),s.qZA()),2&t){const t=s.MAs(3);s.xp6(1),s.Q6J("ngIf",!e.files)("ngIfElse",t)}},directives:[i.O5,o.G,i.sg,r.Qc,a.JJ,a.On,l.Lt],styles:[".nts-upload .p-dropdown{line-height:25px}.nts-upload p-autocomplete,.nts-upload .p-autocomplete,.nts-upload p-dropdown,.nts-upload .p-dropdown{width:100%}\n"],encapsulation:2,changeDetection:0}),t})()},4236:function(t,e,n){"use strict";n.d(e,{G:function(){return v}});var s=n(7716),i=n(6215),o=n(6682),r=n(2759),a=n(8002),l=n(7519),c=n(8307),u=n(5435),p=n(8583);const h=["label"],d=["fileInput"];function g(t,e){if(1&t&&(s.TgZ(0,"div"),s._UZ(1,"small",10),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Q6J("innerHTML",t.subtext,s.oJD)}}const f=function(t){return{"nts-drag-over":t}};function m(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",1),s.TgZ(1,"label",2,3),s.TgZ(3,"div",4),s._UZ(4,"i",5),s.qZA(),s._UZ(5,"div",6),s.YNc(6,g,2,1,"div",7),s.TgZ(7,"input",8,9),s.NdJ("change",function(){s.CHM(t);const e=s.MAs(8);return s.oxw().filesAdd(e.files)}),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.ngIf,n=s.oxw();s.xp6(1),s.Q6J("ngClass",s.VKq(7,f,"dragover"===t.drag))("ngStyle",n.stylesMain)("for",n.uniqueId),s.xp6(4),s.Q6J("innerHtml",n.placeholder,s.oJD),s.xp6(1),s.Q6J("ngIf",n.subtext),s.xp6(1),s.Q6J("id",n.uniqueId),s.uIk("multiple",n.multiple)}}const b=function(t){return{drag:t}};let v=(()=>{class t{constructor(){this.placeholder="Click or drag and drop to <strong>upload files</strong>",this.subtext=null,this.multiple=!1,this.height="265px",this.styles={},this.filesAdded=new s.vpe,this.domEvents$=new i.X(null),this.uniqueId="nts-file-upload-"+Math.floor(1e6*Math.random()),this.stylesMain={}}ngOnInit(){this.stylesMain=Object.assign({"min-height":"265px"},this.styles)}ngAfterViewInit(){this.dragEvent$=(0,o.T)((0,r.R)(this.label.nativeElement,"dragleave"),(0,r.R)(this.label.nativeElement,"dragover")).pipe((0,a.U)(t=>(t.preventDefault(),t.stopPropagation(),t.type)),(0,l.x)(),(0,c.b)(t=>this.domEvents$.next(t))).subscribe(),this.dropEvent$=(0,r.R)(this.label.nativeElement,"drop").pipe((0,a.U)(t=>(t.preventDefault(),t.stopPropagation(),t)),(0,c.b)(t=>this.domEvents$.next(t.type)),(0,u.h)(t=>!!t.dataTransfer)).subscribe(t=>{t.dataTransfer&&this.filesAdd(t.dataTransfer.files)})}filesAdd(t){if(!t)return;const e=Object.keys(t).map(e=>{const n=t[e];return{file:n,get formData(){const t=new FormData;return t.append("file",n,n.name),t},get fileReader(){const t=new FileReader;return t.readAsDataURL(n),t},get objectUrl(){return URL.createObjectURL(n)}}});this.filesAdded.emit(e)}ngOnDestroy(){this.dragEvent$.unsubscribe(),this.dropEvent$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["nts-file-uploader"]],viewQuery:function(t,e){if(1&t&&(s.Gf(h,5),s.Gf(d,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.label=t.first),s.iGM(t=s.CRH())&&(e.fileInput=t.first)}},inputs:{placeholder:"placeholder",subtext:"subtext",multiple:"multiple",height:"height",styles:"styles"},outputs:{filesAdded:"filesAdded"},decls:2,vars:5,consts:[["class","nts-file-uploader",4,"ngIf"],[1,"nts-file-uploader"],[3,"ngClass","ngStyle","for"],["label",""],[1,"nts-logo"],["aria-hidden","true",1,"fa","fa-cloud-upload"],[1,"nts-copy",3,"innerHtml"],[4,"ngIf"],["type","file",3,"id","change"],["fileInput",""],[3,"innerHTML"]],template:function(t,e){1&t&&(s.YNc(0,m,9,9,"div",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.VKq(3,b,s.lcZ(1,1,e.domEvents$)))},directives:[p.O5,p.mk,p.PC],pipes:[p.Ov],styles:[".nts-file-uploader[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:center;display:flex;border:4px dashed #ccc;background:#fff;align-items:center;justify-content:center;flex-direction:column;padding:0 .5rem;background:#f1f1f1}.nts-file-uploader[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background:#e5e5e5}.nts-file-uploader[_ngcontent-%COMP%]   .nts-drag-over[_ngcontent-%COMP%]{border-color:red!important}.nts-file-uploader[_ngcontent-%COMP%]   .nts-copy[_ngcontent-%COMP%]{font-size:1.2rem}.nts-file-uploader[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:10rem}.nts-file-uploader[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}"],changeDetection:0}),t})()},2053:function(t,e,n){"use strict";n.d(e,{N:function(){return o}});var s=n(8583),i=n(7716);let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[s.ez]]}),t})()},7086:function(t,e,n){"use strict";n.d(e,{If:function(){return b},yr:function(){return v}});var s=n(4762),i=n(6215),o=n(4402),r=n(5917),a=n(7574),l=n(945),c=n(5486),u=n(8002),p=n(3190),h=n(5257),d=n(5435),g=n(7716),f=n(7431),m=n(1841);class b{constructor(t,e,n){this.sw=t,this.swPush=e,this.http=n,this.updateAvailable$=new i.X(!1),this.isEnabled=this.sw.isEnabled,this.notificationClicks$=this.swPush.notificationClicks,this.permission="Notification"in window?Notification.permission:"denied",this.worker$=new i.X(null),this.pushSubscription$=new i.X(null),this.isPushActive$=this.pushSubscription$.pipe((0,u.U)(t=>!!t)),navigator&&navigator.serviceWorker&&(this.worker$=(0,o.D)(navigator.serviceWorker.getRegistration()),this.pushSubscription$=this.worker$.pipe((0,p.w)(t=>t?(0,o.D)(t.pushManager.getSubscription()):(0,r.of)(null))))}requestPermission(){"Notification"in window&&Notification.requestPermission(t=>this.permission=t)}sendNotification(t,e){return new a.y(n=>{"Notification"in window||(n.error("Notifications are not available in this environment"),n.complete()),"granted"!==this.permission&&(this.requestPermission(),n.error("The user hasn't granted you permission to send push notifications"),n.complete());const s=new Notification(t,e);s.onshow=t=>n.next({notification:s,event:t,type:t.type}),s.onclick=t=>n.next({notification:s,event:t,type:t.type}),s.onerror=t=>n.error({notification:s,event:t,type:t.type}),s.onclose=()=>n.complete()})}pollforUpdates(t=3e5){this.sw.isEnabled?(this.sw.available.subscribe(()=>this.updateAvailable$.next(!0)),this.sw.checkForUpdate(),(0,l.F)(t).subscribe(()=>this.sw.checkForUpdate())):console.error("Service Worker not enabled")}pushSubscriptionCreate(t,e,n=!1){if(this.sw.isEnabled)return this.pushSubscription$.pipe((0,h.q)(1),(0,d.h)(t=>!t||n),(0,p.w)(()=>this.worker$),(0,d.h)(t=>!!t),(0,u.U)(t=>t?t.pushManager:void 0)).subscribe(n=>{n?n.subscribe({applicationServerKey:e,userVisibleOnly:!0}).then(e=>this.http.post(t,e).subscribe()).catch(t=>console.error("Error getting push subscription: ",t)):console.error("Push manager not defined")}),this.pushSubscription$;console.error("Service Worker not enabled")}pushSubscriptionRemove(t){this.sw.isEnabled?this.pushSubscription$.pipe((0,h.q)(1)).subscribe(e=>{e&&e.unsubscribe().then(()=>{t&&this.http.delete(t).subscribe()})}):console.error("Service Worker not enabled")}remove(){navigator.serviceWorker.getRegistrations().then(t=>t.forEach(t=>t.unregister()))}}b.\u0275fac=function(t){return new(t||b)(g.LFG(f.yO),g.LFG(f.Mk),g.LFG(m.eN))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),(0,s.gn)([(0,c.gw)(100),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[Object]),(0,s.w6)("design:returntype",void 0)],b.prototype,"pollforUpdates",null),n(7033);let v=(()=>{class t{constructor(t){this.http=t,this.updateAvailable$=new i.X(!1),this.canPoll=!0}start(t,e=36e5,n="version"){return this.versionCurrent=localStorage.getItem(n),this.pollInterval=e,this.versionApiUrl=t,this.versionProp=n,this.pollVersionChanges(),this.updateAvailable$.next(!0),this.updateAvailable$}stop(){this.canPoll=!1}pollVersionChanges(){this.http.get(this.versionApiUrl).subscribe(t=>{const e=t.version;this.versionCurrent||(this.versionCurrent=e,localStorage.setItem(this.versionProp,String(e))),e!==this.versionCurrent&&(this.versionCurrent=e,localStorage.setItem(this.versionProp,String(e)),this.updateAvailable$.next(!0)),this.canPoll&&setTimeout(()=>this.pollVersionChanges(),this.pollInterval)},()=>{this.canPoll&&setTimeout(()=>this.pollVersionChanges(),this.pollInterval)})}}return t.\u0275fac=function(e){return new(e||t)(g.LFG(m.eN))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},4539:function(t,e,n){"use strict";n.d(e,{e:function(){return C},j:function(){return x}});var s=n(6215),i=n(6682),o=n(2759),r=n(945),a=n(9426),l=n(9761),c=n(3190),u=n(5435),p=n(8002),h=n(7519),d=n(5257),g=n(8307),f=n(8678),m=n(6421),b=n(4495),v=n(7716),w=n(1841),y=n(3256),k=n(1399),A=n(7172);let Z=(()=>{class t{constructor(t){this.http=t,this.store=(0,A.W_)(this.http),this.users=this.store({uniqueId:"id",apiUrl:"//jsonplaceholder.typicode.com/users"})}resetAll(){Object.keys(this).forEach(t=>{const e=this[t];e&&e.store&&e.store.reset&&e.store.reset()})}}return t.\u0275fac=function(e){return new(e||t)(v.LFG(w.eN))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=(()=>{return(t=x||(x={}))[t.initial=0]="initial",t[t.loggedIn=1]="loggedIn",t[t.loggedOut=2]="loggedOut",t[t.sessionExpired=3]="sessionExpired",x;var t})();let C=(()=>{class t{constructor(t,e,n,g,m,b){this.http=t,this.router=e,this.route=n,this.settings=g,this.dialogService=m,this.domain=b,this.authState$=new s.X(x.initial),this.tokenRefreshInterval=6e4,this.idleDuration=3e5,this.logoutModalVisible=!1,this.refreshEvent$=(0,i.T)((0,o.R)(document,"keypress"),(0,o.R)(document,"mousemove"),(0,o.R)(document,"click")).pipe((0,a.p)(1e3),(0,l.O)(0)),this.logoutTimerExpired$=this.refreshEvent$.pipe((0,c.w)(()=>(0,r.F)(1e3)),(0,u.h)(()=>!!this.settings.token),(0,p.U)(t=>t>this.idleDuration),(0,l.O)(!1),(0,h.x)()),this.logoutTimerExpired$.pipe((0,u.h)(t=>t&&!this.logoutModalVisible)).subscribe(()=>{this.launchLogoutModal(),this.logoutModalVisible=!0}),f.N.endpoints.authTokenRefresh&&this.refreshEvent$.pipe((0,u.h)(()=>!!this.settings.token),(0,a.p)(this.tokenRefreshInterval),(0,u.h)(()=>!this.logoutModalVisible)).subscribe(()=>this.refreshToken()),this.route.queryParams.pipe((0,d.q)(1)).subscribe(t=>{t.token&&(this.settings.token=t.token)})}logIn(t){return(f.N.endpoints.apiUrl&&f.N.endpoints.authLogin?this.http.post(f.N.endpoints.apiUrl+f.N.endpoints.authLogin,t):this.http.get("assets/mock-data/login.json")).pipe((0,g.b)(t=>{this.settings.token=t.data.token,this.authState$.next(x.loggedIn),t.data.expirationSeconds&&(this.idleDuration=t.data.expirationSeconds)}))}refreshToken(){if(!f.N.endpoints.apiUrl||!f.N.endpoints.authTokenRefresh)return!1;const t=this.http.post(f.N.endpoints.apiUrl+f.N.endpoints.authLogin,{});return t.subscribe(t=>{this.settings.token&&(this.authState$.next(x.loggedIn),this.settings.token=t.data.token)},()=>this.logOut(x.sessionExpired)),t}launchLogoutModal(){this.dialogService.open(b.g,{data:60,header:"Warning",width:"70%",dismissableMask:!0}).onClose.subscribe(t=>{t?this.logOut(x.loggedOut):(this.logoutModalVisible=!1,this.refreshToken())})}logOut(t){this.settings.token=null,this.logoutModalVisible=!1,this.authState$.next(t),this.domain.resetAll();const e="/"!==this.router.url&&"/login"!==this.router.url?this.router.url.split("?")[0]:null;this.router.navigate(["/login"],{queryParams:{returnUrl:e}})}}return t.\u0275fac=function(e){return new(e||t)(v.LFG(w.eN),v.LFG(y.F0),v.LFG(y.gz),v.LFG(m.gb),v.LFG(k.xA),v.LFG(Z))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},6421:function(t,e,n){"use strict";n.d(e,{gb:function(){return l}});var s=n(4762),i=n(7716),o=n(8583),r=n(9966),a=(()=>{return(t=a||(a={})).token="token",t.userName="userName",t.version="version",a;var t})();let l=(()=>{class t{constructor(t,e,n){this.store=t,this.query=e,this.platformId=n,this.isBrowser=(0,o.NF)(this.platformId),this.token$=this.query.select(t=>t.token),this.userName$=this.query.select(t=>t.userName),this.version$=this.query.select(t=>t.token),this.settings={token:null,userName:null,version:null},this.query.select().subscribe(t=>this.settings=Object.assign({},t))}get token(){return this.settings.token}set token(t){this.settingSet(a.token,t)}get userName(){return this.settings.userName}set userName(t){this.settingSet(a.userName,t)}get version(){return this.settings.version}set version(t){this.settingSet(a.version,t)}settingSet(t,e){const n={};n[t]=e,this.store.update(n)}reset(){this.store.reset()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(c),i.LFG(u),i.LFG(i.Lbi))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),c=class extends r.yh{constructor(){super({token:null,userName:null,version:null})}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c=(0,s.gn)([(0,r.yC)({name:"settings",resettable:!0}),(0,s.w6)("design:paramtypes",[])],c);let u=(()=>{class t extends r.AE{constructor(t){super(t),this.store=t}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(c))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},3730:function(t,e,n){"use strict";n.d(e,{U:function(){return C}});var s=n(8583),i=n(665),o=n(3256),r=n(3145),a=n(6597),l=n(7538),c=n(6078),u=n(5855),p=n(9132),h=n(1399),d=n(2707),g=n(3258),f=n(5710),m=n(2053),b=n(7716);const v=[c.ce,l.W6,a.$9,u.l,r.S,p.D,h.DL,m.N,f.WN,g.kW];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({providers:[d.YP,h.xA],imports:[[s.ez,o.Bz,i.u5,i.UX,...v],o.Bz,i.u5,i.UX,c.ce,l.W6,a.$9,u.l,r.S,p.D,h.DL,m.N,f.WN,g.kW]}),t})();n(9075);var y=n(4762),k=n(5486);class A{constructor(t){this.el=t,this.changesToAttr=!0,this.changesToChildren=!1,this.changesToData=!1,this.changesToElementResize=!0,this.changesToWindowResize=!0,this.config={attributes:this.changesToAttr,childList:this.changesToChildren,subtree:this.changesToData},this.dimensionsLast={width:null,height:null}}ngOnInit(){}ngAfterViewInit(){this.changesToElementResize&&this.el&&this.el.nativeElement&&(this.dimensionsLast=this.dimensionsGetNew(),this.startPollingDimensions(),this.startMutationObserver())}startPollingDimensions(){const t=this.dimensionsCheck(this.dimensionsLast,this.dimensionsGetNew());t&&(this.dimensionsLast=t,this.executeCallback()),window.setTimeout(()=>this.startPollingDimensions(),200)}dimensionsCheck(t,e){return(t.width!==e.width||t.height!==e.height)&&e}dimensionsGetNew(){return{width:this.el.nativeElement.getBoundingClientRect().width,height:this.el.nativeElement.getBoundingClientRect().height}}startMutationObserver(){"MutationObserver"in window&&(this.observer=new MutationObserver(()=>{this.executeCallback()}),this.observer.observe(this.el.nativeElement,this.config))}onResize(t){this.changesToWindowResize&&this.executeCallback()}executeCallback(){"function"==typeof this.callback&&this.callback()}ngOnDestroy(){this.observer&&this.observer.disconnect()}}A.\u0275fac=function(t){return new(t||A)(b.Y36(b.SBq))},A.\u0275dir=b.lG2({type:A,selectors:[["","appDomObserver",""]],hostBindings:function(t,e){1&t&&b.NdJ("resize",function(t){return e.onResize(t)},!1,b.Jf7)},inputs:{changesToAttr:"changesToAttr",changesToChildren:"changesToChildren",changesToData:"changesToData",changesToElementResize:"changesToElementResize",changesToWindowResize:"changesToWindowResize",callback:"callback"}}),(0,y.gn)([(0,k.Ds)(200),(0,y.w6)("design:type",Function),(0,y.w6)("design:paramtypes",[Event]),(0,y.w6)("design:returntype",void 0)],A.prototype,"onResize",null),(0,y.gn)([(0,k.Ds)(200),(0,y.w6)("design:type",Function),(0,y.w6)("design:paramtypes",[]),(0,y.w6)("design:returntype",void 0)],A.prototype,"executeCallback",null);let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({providers:[s.uU,s.H9],imports:[[s.ez]]}),t})();n(4495),n(671),n(8659),n(3734),n(3393),n(3827),n(3844),n(9424);let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({providers:[],imports:[[s.ez,Z,w]]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({imports:[[s.ez,w,x,Z],w,Z,x]}),t})()},8678:function(t,e,n){"use strict";n.d(e,{N:function(){return s}});const s=(0,n(9779).Z)({production:!1,properties:{appName:"Borrower Portal | CMG"},settings:{enableServiceWorker:!0,enableAppComms:!0,preloadRoutes:!1,obfuscate:!0},domains:{listenTo:["http://localhost:4200"]},endpoints:{envConfig:"assets/mock-data/env-settings.json",apiUrl:null,authLogin:"assets/mock-data/login.json",authTokenRefresh:null,versionPath:null,errorPath:null},state:{uiStoreBlacklist:[]},licenses:{vapid:{publicKey:"BIZ-IPJrxKxtdL9O9CnK42-XWcepJDPMQDfj8pb_vCfQxa7j1LoC4exdzZ5MhPWaF_5eWPglkj3V32xRswQEm6Q",privateKey:"jUOTBXqGGwElft-fTVBYb1BeLWrRhn2HgyJpXZBhgLo"},agGrid:"qwerty"}},{prod:!0})},1292:function(t,e,n){"use strict";var s=n(9075),i=n(7716),o=n(6237),r=n(3256),a=n(1841),l=n(7431),c=n(9966),u=n(3730);let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-no-content"]],decls:6,vars:0,consts:[[1,"container","mt-3"],["href","/#/"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"h1"),i._uU(2,"404: page missing"),i.qZA(),i.TgZ(3,"p"),i.TgZ(4,"a",1),i._uU(5,"Click here to go to the homepage."),i.qZA(),i.qZA(),i.qZA())},encapsulation:2}),t})();var h=n(8678),d=n(6421),g=n(7086);let f=(()=>{class t{constructor(t,e){this.settings=t,this.sw=e}handleError(t){throw this.settings.isBrowser&&!t.errorMsg&&!t.hasOwnProperty("status")&&h.N.production&&(h.N.endpoints.errorPath&&this.logError(t),this.resetState(t)),t}resetState(t){console.error({error:t}),this.sw.isEnabled?this.sw.remove():(localStorage.clear(),sessionStorage.clear(),window.location.href="/#/login")}logError(t){if(!h.N.endpoints.apiUrl||!h.N.endpoints.errorPath)return;const e=new XMLHttpRequest,n={level:"Error",class:"",message:t.message,exception:t.stack};e.open("POST",h.N.endpoints.apiUrl+h.N.endpoints.errorPath,!0),e.setRequestHeader("Content-type","application/json;charset=UTF-8"),e.send(JSON.stringify(n))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(d.gb),i.LFG(g.If))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();var m=n(205),b=n(5304),v=n(4539);let w=(()=>{class t{constructor(t,e){this.settings=t,this.auth=e}intercept(t,e){const n={};this.settings.token&&(n.Authorization="Bearer "+this.settings.token);const s=new a.WM(n);return e.handle(t.clone({headers:s})).pipe((0,b.K)(t=>((401===t.status||403===t.status)&&this.sessionEnd(),(0,m._)(t))))}sessionEnd(){this.auth.logOut(v.j.sessionExpired)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(d.gb),i.LFG(v.e))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();var y=n(5435),k=n(8002),A=n(9773),Z=n(9132);const x=function(){return{width:"50vw"}};let C=(()=>{class t{constructor(t,e,n,s,i){this.router=t,this.activatedRoute=e,this.title=n,this.version=s,this.sw=i}ngOnInit(){this.routeChange(),h.N.settings.enableServiceWorker&&this.sw.pollforUpdates(),h.N.endpoints.versionPath&&this.version.start(h.N.endpoints.versionPath)}routeChange(){this.router.events.pipe((0,y.h)(t=>t instanceof r.m2),(0,k.U)(()=>this.activatedRoute),(0,k.U)(t=>{for(;t.firstChild;)t=t.firstChild;return t}),(0,y.h)(t=>"primary"===t.outlet),(0,A.zg)(t=>t.data)).subscribe(t=>{this.title.setTitle(t.title+" | "+h.N.properties.appName)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(r.F0),i.Y36(r.gz),i.Y36(s.Dx),i.Y36(g.yr),i.Y36(g.If))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:3,template:function(t,e){1&t&&(i._UZ(0,"router-outlet"),i._UZ(1,"p-confirmDialog")),2&t&&(i.xp6(1),i.Akn(i.DdM(2,x)))},directives:[r.lC,Z.Q],encapsulation:2}),t})();var T=n(3393);n(3827),n(3734),n(3844);let M=(()=>{class t{constructor(t,e){this.settings=t,this.auth=e}canActivate(){return!!this.settings.token||(this.auth.logOut(v.j.sessionExpired),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(d.gb),i.LFG(v.e))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const N=[{path:"login",pathMatch:"full",loadChildren:()=>n.e(307).then(n.bind(n,3307)).then(t=>t.LoginModule),data:{title:"Please Log In"}},{path:"",component:T.f,children:[{path:"upload",loadChildren:()=>n.e(946).then(n.bind(n,8946)).then(t=>t.UploadModule),data:{title:"Please Log In"}},{path:"route",pathMatch:"full",loadChildren:()=>n.e(601).then(n.bind(n,7601)).then(t=>t.RouteModule),canActivate:[M]},{path:"",pathMatch:"full",loadChildren:()=>n.e(390).then(n.bind(n,5390)).then(t=>t.HomeModule),canActivate:[M]},{path:"**",component:p,data:{title:"Page Not Found"},canActivate:[M]}]}];class O{static serialize(t){console.log(t);let e=JSON.stringify(t);return e=this.pad(e,75,75),e=this.obfuscateAdd(e),e=this.charShift(e,10),e}static deserialize(t){console.log(t,typeof t);try{t=O.charShift(t,-10),t=O.obfuscateRemove(t),t=O.trim(t,75,75)}catch(e){return console.error(e),null}return JSON.parse(t)}static randomstring(t){let e="";const n=()=>{const t=Math.floor(62*Math.random());return t<10?t:String.fromCharCode(t<36?t+55:t+61)};for(;e.length<t;)e+=n();return e}static obfuscateAdd(t){return t&&window?window.btoa(encodeURIComponent(t.toString())):t}static obfuscateRemove(t){return t&&window?decodeURIComponent(window.atob(t)):t}static pad(t,e,n){let s=t;return e&&(s=this.randomstring(e)+s),n&&(s+=this.randomstring(n)),s}static trim(t,e,n){let s=t;return e&&(s=s.substring(e)),n&&(s=s.substring(0,s.length-n)),s}static charShift(t,e=1){const n=' ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-=[{]}|;:",<.>/?';let s="";for(let i=0;i<t.length;i++){const o=t.charAt(i);let r=n.indexOf(o);-1!==r?(r+e>n.length?r=(r+e)%n.length:r+e<0?r=-(r+e)%n.length:r+=e,s+=n.charAt(r)):s+=o}return s}}h.N.production&&(0,c.Ux)(),(0,c.xi)({storage:localStorage,key:"appState",include:["uiState","settings"],serialize:t=>{let e=JSON.stringify(t);return e=O.pad(e,75,75),e=O.obfuscateAdd(e),e=O.charShift(e,10),e},deserialize:t=>{if("{}"===t)return{};try{return t=O.charShift(t,-10),t=O.obfuscateRemove(t),t=O.trim(t,75,75),JSON.parse(t)}catch(e){return console.error(e),{}}}});let S,q=(()=>{class t{constructor(t){this.injector=t,S=this.injector}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275mod=i.oAB({type:t,bootstrap:[C]}),t.\u0275inj=i.cJS({providers:[{provide:i.qLn,useClass:f},w,{provide:a.TP,useClass:w,multi:!0}],imports:[[s.b2.withServerTransition({appId:"angular-starter"}),a.JF,o.PW,r.Bz.forRoot(N,{useHash:!h.N.production,preloadingStrategy:h.N.settings.preloadRoutes?r.wm:r.GZ,scrollPositionRestoration:"enabled",relativeLinkResolution:"legacy"}),l.Wr.register("ngsw-worker.js",{enabled:h.N.settings.enableServiceWorker,registrationStrategy:"registerImmediately"}),u.U]]}),t})();h.N.production&&(0,i.G48)(),s.q6().bootstrapModule(q).catch(t=>console.log(t))}},function(t){t.O(0,[736],function(){return t(t.s=1292)}),t.O()}]);