<div class="nts-upload">
  <ng-container *ngIf="!files; else yepFiles">
    <nts-file-uploader (filesAdded)="filesAdded($event)" [placeholder]="'Click or drag and drop to <strong>upload documents</strong>'"></nts-file-uploader>
  </ng-container>
  <ng-template #yepFiles>
    <table class="table table-sm table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Document Type</th>
          <th *ngIf="canSelectBorrower">Borrower</th>
          <!--
          <th>Last Modified</th>
          -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let file of files; let i = index">
          <td>{{ file.file.name }}</td>
          <td>
            <p-autoComplete
              field="label"
              placeholder="Please select a type"
              [minLength]="2"
              [dropdown]="true"
              [(ngModel)]="text[i]"
              [suggestions]="results"
              (completeMethod)="search($event)"
            ></p-autoComplete>
          </td>
          <td *ngIf="canSelectBorrower">
            <p-dropdown [options]="borrowers" [(ngModel)]="borrower" optionLabel="name"></p-dropdown>
          </td>
          <!--
          <td>{{ file.file.lastModifiedDate | date: 'short' }}</td>
          -->
        </tr>
      </tbody>
    </table>
    <div class="d-flex justify-content-between small mb-3">
      <a (click)="files = null">Add more documents</a>
      <a (click)="files = null">Cancel</a>
    </div>
    <div class="text-right" *ngIf="showSubmit">
      <button class="p-button" (click)="files = null"><i class="fas fa-upload mr-2"></i> Upload</button>
    </div>
  </ng-template>
</div>
